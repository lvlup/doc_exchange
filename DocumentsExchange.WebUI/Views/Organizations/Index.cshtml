@model IEnumerable<DocumentsExchange.DataLayer.Entity.Organization>
    
<div id="OrganizationTable">
    <table class="table table-bordered table-condensed">
        <tbody>
        @if (@Model != null)
        {
            foreach (var org in @Model.Where(o => o.IsActive))
            {
                <tr >
                    <td >
                        <a href="javascript:void(0)" data-url="@Url.Action("Get", new { id = org.Id })" data-org-id="@org.Id">@org.Name</a>
                    </td>
                </tr>
            }
        }
        </tbody>
    </table>
</div>

<script>
    $(function () {
        $('#OrganizationTable').on('click', '> table > tbody > tr > td > a[data-url]', function (e) {
            $('#TabCotrollerView').load($(this).data('url'));
            $('#ChatView').load('@Url.Action("Index", "Message")' + '?orgId=' + $(this).data("org-id"));
        });
    });
</script>